"use strict"; !function () { var e = jQuery("body"), a = jQuery(window); function t(e, a) { var t = e.data("animation") ? e.data("animation") : "fadeInUp", r = e.data("delay") ? e.data("delay") : 150; setTimeout(function () { e.addClass("animated " + t) }, a * r) } function r(e) { e.hasClass("counted") || e.countTo().addClass("counted") } function i(e) { e.progressbar({ transition_delay: 300 }) } function s(e) { var a = e.data(), t = a.size ? a.size : 270, r = a.line ? a.line : 20, i = a.bgcolor ? a.bgcolor : "#ffffff", s = a.trackcolor ? a.trackcolor : "#c14240", o = a.speed ? a.speed : 3e3; e.easyPieChart({ barColor: s, trackColor: i, scaleColor: !1, scaleLength: !1, lineCap: "butt", lineWidth: r, size: t, rotate: 0, animate: o, onStep: function (e, a, t) { jQuery(this.el).find(".percent").text(Math.round(t)) } }) } function o() { jQuery().scrollbar && jQuery('[class*="scrollbar-"]').scrollbar(), jQuery().superfish && (jQuery("ul.sf-menu").superfish({ popUpSelector: "ul:not(.mega-menu ul), .mega-menu ", delay: 700, animation: { opacity: "show", marginTop: 0 }, animationOut: { opacity: "hide", marginTop: 5 }, speed: 200, speedOut: 200, disableHI: !1, cssArrows: !0, autoArrows: !0 }), jQuery("ul.sf-menu-side").superfish({ popUpSelector: "ul:not(.mega-menu ul), .mega-menu ", delay: 500, animation: { opacity: "show", height: "100%" }, animationOut: { opacity: "hide", height: 0 }, speed: 400, speedOut: 300, disableHI: !1, cssArrows: !0, autoArrows: !0 })), jQuery(".toggle_menu").on("click", function () { jQuery(this).toggleClass("mobile-active").closest(".page_header").toggleClass("mobile-active").end().closest(".page_toplogo").next().find(".page_header").toggleClass("mobile-active") }), jQuery(".mainmenu a").on("click", function () { var e = jQuery(this); e.hasClass("sf-with-ul") || "#" !== e.attr("href").charAt(0) || e.closest(".page_header").toggleClass("mobile-active").find(".toggle_menu").toggleClass("mobile-active") }); var o = jQuery(".page_header_side"); jQuery("ul.menu-click").find("li").each(function () { var e = jQuery(this); e.find("ul").length && e.append('<span class="activate_submenu"></span>').find(".activate_submenu, > a").on("click", function (a) { var t = jQuery(this); "#" !== t.attr("href") && t.parent().hasClass("active-submenu") || a.preventDefault(), t.parent().hasClass("active-submenu") ? t.parent().removeClass("active-submenu") : e.addClass("active-submenu").siblings().removeClass("active-submenu") }) }), o.length && (jQuery(".toggle_menu_side").on("click", function () { var a = jQuery(this); a.hasClass("header-slide") ? o.toggleClass("active-slide-side-header") : a.parent().hasClass("header_side_right") ? e.toggleClass("active-side-header slide-right") : e.toggleClass("active-side-header") }), e.on("click", function (a) { jQuery(a.target).closest(".page_header_side").length || o.hasClass("page_header_side_sticked") || (o.removeClass("active-slide-side-header"), e.removeClass("active-side-header slide-right")) })); var n = jQuery(".page_header").outerHeight(!0); if (jQuery(".mainmenu_side_wrapper").length ? e.scrollspy({ target: ".mainmenu_side_wrapper", offset: n }) : jQuery(".mainmenu_wrapper").length && e.scrollspy({ target: ".mainmenu_wrapper", offset: n }), jQuery().localScroll && jQuery(".mainmenu_wrapper > ul, .mainmenu_side_wrapper > ul, #land, .scroll_button_wrap").localScroll({ duration: 900, easing: "easeInOutQuart", offset: 40 - n }), jQuery(".bg_teaser, .image_cover").each(function () { var e = jQuery(this), a = e.find("img").first(); if (a.length || (a = e.parent().find("img").first()), a.length) { var t = a.attr("src"); e.css("background-image", "url(" + t + ")"); var r = a.parent(); r.is("a") && (e.prepend(a.parent().clone().html("")), r.attr("data-gal", "")) } }), jQuery().UItoTop && jQuery().UItoTop({ easingType: "easeInOutQuart" }), jQuery().parallax && jQuery(".parallax").parallax("50%", .01), jQuery().prettyPhoto && jQuery("a[data-gal^='prettyPhoto']").prettyPhoto({ hook: "data-gal", theme: "facebook", social_tools: !1 }), jQuery().carousel && jQuery(".carousel").carousel(), jQuery(".tab-content").each(function () { jQuery(this).find(".tab-pane").first().addClass("fade in") }), jQuery(".panel-group").each(function () { jQuery(this).find("a").first().filter(".collapsed").trigger("click") }), jQuery().tooltip && jQuery('[data-toggle="tooltip"]').tooltip(), jQuery().countdown) { var l = new Date; l.setMonth(l.getMonth() + 1), jQuery("#comingsoon-countdown").countdown({ until: l }) } jQuery("form.contact-form").on("submit", function (e) { e.preventDefault(); var a = jQuery(this); if (jQuery(a).find("span.contact-form-respond").remove(), jQuery(a).find('[aria-required="true"], [required]').each(function (e) { var a = jQuery(this); a.val().length || a.addClass("invalid").on("focus", function () { a.removeClass("invalid") }) }), !a.find('[aria-required="true"], [required]').hasClass("invalid")) { var t = a.serialize(); jQuery.post("contact-form.php", t).done(function (e) { jQuery(a).find('[type="submit"]').attr("disabled", !1).parent().append('<span class="contact-form-respond highlight">' + e + "</span>"), a.find(".form-errors").length || a[0].reset() }).fail(function (e) { jQuery(a).find('[type="submit"]').attr("disabled", !1).parent().append('<span class="contact-form-respond highlight">Mail cannot be sent. You need PHP server to send mail.</span>') }) } }), jQuery(".search_modal_button").on("click", function (e) { e.preventDefault(), jQuery("#search_modal").modal("show").find("input").first().focus() }), jQuery("form.searchform").on("submit", function (e) { e.preventDefault(); var a = jQuery(this), t = jQuery("#search_modal"); if (t.find("div.searchform-respond").remove(), jQuery(a).find('[type="text"]').each(function (e) { var a = jQuery(this); a.val().length || a.addClass("invalid").on("focus", function () { a.removeClass("invalid") }) }), !a.find('[type="text"]').hasClass("invalid")) { t.modal("show"); var r = a.serialize(); jQuery.post("search.php", r).done(function (e) { t.append('<div class="searchform-respond">' + e + "</div>") }).fail(function (e) { t.append('<div class="searchform-respond">Search cannot be done. You need PHP server to search.</div>') }) } }), jQuery(".signup").on("submit", function (e) { e.preventDefault(); var a = jQuery(this); a.find(".response").html("Adding email address..."), jQuery.ajax({ url: "mailchimp/store-address.php", data: "ajax=true&email=" + escape(a.find(".mailchimp_email").val()), success: function (e) { a.find(".response").html(e) } }) }), jQuery().tweet && jQuery(".twitter").tweet({ modpath: "./twitter/", count: 1, avatar_size: 48, loading_text: "loading twitter feed...", join_text: "auto", username: "michaeljackson", template: '<span class="darklinks">{user}</span><span class="tweet_text">{tweet_text}</span><span class="greylinks">{time}</span>' }); var u = jQuery("#timetable"); if (u.length && jQuery("#timetable_filter").on("click", "a", function (e) { e.preventDefault(), e.stopPropagation(); var a = jQuery(this); if (!a.hasClass("selected")) { var t = a.attr("data-filter"); u.find("tbody td").removeClass("current").end().find(t).closest("td").addClass("current"), a.closest("ul").find("a").removeClass("selected"), a.addClass("selected") } }), jQuery("#toggle_shop_view").on("click", function (e) { e.preventDefault(), jQuery(this).toggleClass("grid-view"), jQuery("#products").toggleClass("grid-view list-view") }), jQuery().elevateZoom && jQuery("#product-image").elevateZoom({ gallery: "product-image-gallery", cursor: "pointer", galleryActiveClass: "active", responsive: !0, loadingIcon: "img/AjaxLoader.gif" }), jQuery(".review-link").on("click", function (e) { var t = jQuery(this), r = jQuery('a[href="#reviews_tab"]'); r.parent().hasClass("active") || r.tab("show").on("shown.bs.tab", function (e) { a.scrollTo(t.attr("href"), 400) }), a.scrollTo(t.attr("href"), 400) }), jQuery(".plus, .minus").on("click", function (e) { var a = jQuery(this).parent().find('[type="number"]'), t = a.val(); "-" === jQuery(this).val() ? t > 1 && a.val(parseFloat(t) - 1) : a.val(parseFloat(t) + 1) }), jQuery("a.remove").on("click", function (e) { e.preventDefault(), jQuery(this).closest("tr, .media").remove() }), jQuery().slider) { var c = jQuery(".slider-range-price"); if (c.length) { var d = jQuery(".slider_price_min"), f = jQuery(".slider_price_max"), p = jQuery(".slider_price_min_label"), h = jQuery(".slider_price_max_label"); c.slider({ range: !0, min: 0, max: 250, values: [30, 100], slide: function (e, a) { d.val(a.values[0]), p.text(a.values[0]), f.val(a.values[1]), h.text(a.values[1]) } }), d.val(c.slider("values", 0)), p.text(c.slider("values", 0)), f.val(c.slider("values", 1)), h.text(c.slider("values", 1)) } } (jQuery(".color-filters").find("a[data-background-color]").each(function () { jQuery(this).css({ "background-color": jQuery(this).data("background-color") }) }), jQuery().flexslider) && (jQuery(".intro_section .flexslider").each(function (e) { var a = jQuery(this), t = a.data(), r = "undefined" === t.nav || t.nav, i = "undefined" === t.dots || t.dots; a.flexslider({ animation: "fade", pauseOnHover: !0, useCSS: !0, controlNav: i, directionNav: r, prevText: "", nextText: "", smoothHeight: !1, slideshowSpeed: 1e4, animationSpeed: 600, start: function (e) { e.find(".slide_description").children().css({ visibility: "hidden" }), e.find(".flex-active-slide .slide_description").children().each(function (e) { var a = jQuery(this), t = a.data("animation") ? a.data("animation") : "fadeInRight"; setTimeout(function () { a.addClass("animated " + t) }, 200 * e) }), e.find(".flex-control-nav").find("a").each(function () { jQuery(this).html("0" + jQuery(this).html()) }) }, after: function (e) { e.find(".flex-active-slide .slide_description").children().each(function (e) { var a = jQuery(this), t = a.data("animation") ? a.data("animation") : "fadeInRight"; setTimeout(function () { a.addClass("animated " + t) }, 200 * e) }); var a = e.find(".flex-control-nav.owl-carousel"), t = e.currentSlide; a.owlCarousel("to", t, 300, !0) }, end: function (e) { e.find(".slide_description").children().each(function () { var e = jQuery(this), a = e.data("animation") ? e.data("animation") : "fadeInRight"; e.removeClass("animated " + a).css({ visibility: "hidden" }) }) } }).find(".flex-control-nav").addClass("owl-carousel").attr("data-center", "true").attr("data-responsive-xs", "3").attr("data-responsive-sm", "3").attr("data-responsive-md", "3").attr("data-responsive-lg", "3").wrap('<div class="container-fluid nav-container"/>') }), jQuery(".flexslider").each(function (e) { var a = jQuery(this); a.find(".flex-active-slide").length || a.flexslider({ animation: "slide", useCSS: !0, controlNav: !0, directionNav: !1, prevText: "", nextText: "", smoothHeight: !1, slideshowSpeed: 5e3, animationSpeed: 400, start: function (e) { e.find(".flex-control-nav").find("a").each(function () { jQuery(this).html("0" + jQuery(this).html()) }) }, after: function (e) { var a = e.find(".flex-control-nav.owl-carousel"), t = e.currentSlide; a.owlCarousel("to", t, 300, !0) } }).find(".flex-control-nav").addClass("owl-carousel").attr("data-center", "true").attr("data-responsive-xs", "3").attr("data-responsive-sm", "3").attr("data-responsive-md", "3").attr("data-responsive-lg", "3").wrap('<div class="container-fluid nav-container"/>') })); jQuery(".flex-control-nav").each(function () { var e = jQuery(this); e.on("click", ".owl-item", function (a) { var t = e.data("owl.carousel"); a.preventDefault(), t.to(t.relative(jQuery(this).index())) }) }); var y = jQuery(".page_header").first(), g = y.closest(".boxed").length; if (y.length) { var m = y.outerHeight(); y.wrap('<div class="page_header_wrapper"></div>'); var v = y.parent(); g || v.css({ height: m }), y.hasClass("header_white") ? v.addClass("header_white") : y.hasClass("header_darkgrey") ? (v.addClass("header_darkgrey"), y.hasClass("bs") && v.addClass("bs")) : y.hasClass("header_gradient") && v.addClass("header_gradient"), y.hasClass("header_transparent") && v.addClass("header_transparent_wrap"); g || "fixed" === v.css("position") || y.offset().top, jQuery(y).on("affixed-top.bs.affix affixed.bs.affix affixed-bottom.bs.affix", function (e) { y.hasClass("affix-top") ? v.removeClass("affix-wrapper affix-bottom-wrapper").addClass("affix-top-wrapper") : y.hasClass("affix") ? v.removeClass("affix-top-wrapper affix-bottom-wrapper").addClass("affix-wrapper") : y.hasClass("affix-bottom") ? v.removeClass("affix-wrapper affix-top-wrapper").addClass("affix-bottom-wrapper") : v.removeClass("affix-wrapper affix-top-wrapper affix-bottom-wrapper") }), jQuery(y).on("affixed-top.bs.affix", function () { }) } if (jQuery(".search_form_trigger").on("click", function (e) { e.preventDefault(), jQuery(".search_form_trigger, .search_form_wrapper").toggleClass("active") }), jQuery().owlCarousel && jQuery(".owl-carousel").each(function () { var e = jQuery(this), t = e.data(), r = !!t.loop && t.loop, i = t.margin || 0 === t.margin ? t.margin : 30, s = !!t.nav && t.nav, o = !!t.dots && t.dots, n = t.themeclass ? t.themeclass : "owl-theme", l = !!t.center && t.center, u = t.items ? t.items : 4, c = !!t.autoplay && t.autoplay, d = t.responsiveXs ? t.responsiveXs : 1, f = t.responsiveSm ? t.responsiveSm : 2, p = t.responsiveMd ? t.responsiveMd : 3, h = t.responsiveLg ? t.responsiveLg : 4, y = (t.responsivexLg && t.responsivexLg, !!t.filters && t.filters), g = !1 !== e.data("mouse-drag"), m = !1 !== e.data("touch-drag"); y && (e.after(e.clone().addClass("owl-carousel-filter-cloned")), jQuery(y).on("click", "a", function (a) { a.preventDefault(); var t = jQuery(this); if (!t.hasClass("selected")) { var r = t.attr("data-filter"); t.siblings().removeClass("selected active"), t.addClass("selected active"), e.find(".owl-item").length; for (var i = e.find(".owl-item").length - 1; i >= 0; i--)e.trigger("remove.owl.carousel", [1]); jQuery(e.next().find(" > " + r).clone()).each(function () { e.trigger("add.owl.carousel", jQuery(this)), jQuery(this).addClass("scaleAppear") }), e.trigger("refresh.owl.carousel"), jQuery().prettyPhoto && e.find("a[data-gal^='prettyPhoto']").prettyPhoto({ hook: "data-gal", theme: "facebook" }) } })), e.owlCarousel({ loop: r, margin: i, nav: s, autoplay: c, dots: o, themeClass: n, center: l, items: u, mouseDrag: g, touchDrag: m, responsive: { 0: { items: d }, 767: { items: f }, 992: { items: p }, 1200: { items: h } } }).addClass(n), l && e.addClass("owl-center"), a.on("resize", function () { e.trigger("refresh.owl.carousel") }), e.on("changed.owl.carousel", function () { jQuery().prettyPhoto && jQuery("a[data-gal^='prettyPhoto']").prettyPhoto({ hook: "data-gal", theme: "facebook", social_tools: !1 }) }) }), jQuery(".team-owl-carousel").each(function () { var e = jQuery(this), a = e.next(".team-owl-carousel-content"); e.on("click", ".owl-item", function (a) { var t = e.data("owl.carousel"); a.preventDefault(), t.to(t.relative(jQuery(this).index())) }).on("change.owl.carousel", function (e) { if (e.namespace && "position" === e.property.name) { var t = e.relatedTarget.relative(e.property.value, !0); a.owlCarousel("to", t, 300, !0), i(jQuery(a).find(".active .progress .progress-bar")) } }) }), function () { var e = jQuery(".affix-aside"); if (e.length) { e.on("affix.bs.affix", function (a) { var t = e.width() - 1, r = e.offset().left; e.width(t).css("left", r) }).on("affix-top.bs.affix affix-bottom.bs.affix", function (a) { e.css({ width: "", left: "" }) }); var a = e.offset().top - jQuery(".page_header").height(), t = jQuery(".page_footer").outerHeight(!0) + jQuery(".page_copyright").outerHeight(!0); e.affix({ offset: { top: a, bottom: t } }), jQuery(window).on("resize", function () { e.css({ width: "", left: "" }), e.hasClass("affix") && e.removeClass("affix").css("left", "").addClass("affix-top"); var a = jQuery(".page_topline").outerHeight(!0) + jQuery(".page_toplogo").outerHeight(!0) + jQuery(".page_header").outerHeight(!0) + jQuery(".page_breadcrumbs").outerHeight(!0) + jQuery(".blog_slider").outerHeight(!0), t = jQuery(".page_footer").outerHeight(!0) + jQuery(".page_copyright").outerHeight(!0); e.data("bs.affix").options.offset.top = a, e.data("bs.affix").options.offset.bottom = t, e.affix("checkPosition") }) } }(), e.scrollspy("refresh"), jQuery().appear && (jQuery(".to_animate").appear(), jQuery(".to_animate").filter(":appeared").each(function (e) { t(jQuery(this), e) }), e.on("appear", ".to_animate", function (e, a) { jQuery(a).each(function (e) { t(jQuery(this), e) }) }), jQuery().countTo && (jQuery(".counter").appear(), jQuery(".counter").filter(":appeared").each(function () { r(jQuery(this)) }), e.on("appear", ".counter", function (e, a) { jQuery(a).each(function () { r(jQuery(this)) }) })), jQuery().progressbar && (jQuery(".progress .progress-bar").appear(), jQuery(".progress .progress-bar").filter(":appeared").each(function () { i(jQuery(this)) }), e.on("appear", ".progress .progress-bar", function (e, a) { jQuery(a).each(function () { i(jQuery(this)) }) }), jQuery('a[data-toggle="tab"]').on("shown.bs.tab", function (e) { i(jQuery(jQuery(e.target).attr("href")).find(".progress .progress-bar")) }), jQuery(".dropdown").on("shown.bs.dropdown", function (e) { i(jQuery(this).find(".progress .progress-bar")) })), jQuery().easyPieChart && (jQuery(".chart").appear(), jQuery(".chart").filter(":appeared").each(function () { s(jQuery(this)) }), e.on("appear", ".chart", function (e, a) { jQuery(a).each(function () { s(jQuery(this)) }) }))), jQuery().jflickrfeed) { var j = jQuery("#flickr, .flickr_ul"); j.length && (j.hasClass("flickr_loaded") || j.jflickrfeed({ flickrbase: "http://api.flickr.com/services/feeds/", limit: 3, qstrings: { id: "131791558@N04" }, itemTemplate: '<a href="{{image_b}}" data-gal="prettyPhoto[pp_gal]"><li><img alt="{{title}}" src="{{image_m}}" /></li></a>' }, function (e) { j.find("a").prettyPhoto({ hook: "data-gal", theme: "facebook" }) }).addClass("flickr_loaded")) } jQuery().spectragram && { instaToken: "3905738328.60c782d.b65ed3f058d64e6ab32c110c6ac12d9b", instaID: "60c782dfecaf4050b59ff4c159246641", init: function () { jQuery.fn.spectragram.accessData = { accessToken: this.instaToken, clientID: this.instaID }, jQuery(".instafeed").each(function () { var e = jQuery(this); e.find("img").length || e.spectragram("getRecentTagged", { max: 6, query: "grey", wrapEachWith: '<div class="photo">' }) }) } }.init(); jQuery(".embed-placeholder").each(function () { jQuery(this).on("click", function (e) { var a = jQuery(this); a.attr("data-gal") || (e.preventDefault(), "" === a.attr("href") || "#" === a.attr("href") ? a.replaceWith(a.data("iframe").replace(/&amp/g, "&").replace(/$lt;/g, "<").replace(/&gt;/g, ">").replace(/$quot;/g, '"')).trigger("click") : a.replaceWith('<iframe class="embed-responsive-item" src="' + a.attr("href") + '?rel=0&autoplay=1"></iframe>')) }) }), jQuery(".isotope_container").each(function (e) { var a = jQuery(this), t = a.hasClass("masonry-layout") ? "masonry" : "fitRows", r = a.find(".col-lg-20").length ? ".col-lg-20" : ""; a.isotope({ percentPosition: !0, layoutMode: t, masonry: { columnWidth: r } }); var i = jQuery(this).attr("data-filters") ? jQuery(jQuery(this).attr("data-filters")) : a.prev().find(".filters"); i.length && (i.on("click", "a", function (e) { e.preventDefault(); var t = jQuery(this), r = t.attr("data-filter"); a.isotope({ filter: r }), t.siblings().removeClass("selected active"), t.addClass("selected active") }), i.on("change", "select", function (e) { e.preventDefault(); var t = jQuery(this).val(); a.isotope({ filter: t }) })) }); var Q = jQuery("#messages_modal"); Q.find("ul").length && Q.modal("show"), jQuery(".preloaderimg").fadeOut(150), jQuery(".preloader").fadeOut(350).delay(200, function () { }) } a.on("load", function () { o(); var e = jQuery("#map, .page_map"); e.length && e.each(function () { var e, a, t, r = jQuery(this), i = [{ featureType: "administrative", elementType: "labels.text.fill", stylers: [{ color: "#444444" }] }, { featureType: "landscape", elementType: "all", stylers: [{ color: "#f2f2f2" }] }, { featureType: "poi", elementType: "all", stylers: [{ visibility: "off" }] }, { featureType: "road", elementType: "all", stylers: [{ saturation: -100 }, { lightness: 45 }] }, { featureType: "road.highway", elementType: "all", stylers: [{ visibility: "simplified" }] }, { featureType: "road.arterial", elementType: "labels.icon", stylers: [{ visibility: "off" }] }, { featureType: "transit", elementType: "all", stylers: [{ visibility: "off" }] }, { featureType: "water", elementType: "all", stylers: [{ color: "#0095b3" }, { visibility: "on" }] }], s = r.data("address") ? r.data("address") : "london, baker street, 221b", o = r.find(".map_marker_description").prop("outerHTML"), n = r.find("h3").first().text() ? r.find("h3").first().text() : "Map Title", l = r.find(".map_marker_icon").first().attr("src"); jQuery.getJSON("http://maps.googleapis.com/maps/api/geocode/json?address=" + s, function (t) { e = t.results[0].geometry.location.lat, a = t.results[0].geometry.location.lng }).complete(function () { var s = new google.maps.LatLng(e, a), u = { mapTypeId: google.maps.MapTypeId.ROADMAP, zoom: 15, draggable: !0, scrollwheel: !1, center: s, styles: i }; t = new google.maps.Map(r[0], u); var c = new google.maps.Marker({ position: s, title: n, map: t, icon: l }), d = new google.maps.InfoWindow({ content: o }); google.maps.event.addListener(c, "click", function () { d.open(t, c) }) }) }), jQuery(".choice").on("change", function () { "" === jQuery(this).val() ? jQuery(this).addClass("empty") : jQuery(this).removeClass("empty") }) }), a.on("resize", function () { e.scrollspy("refresh"); var a = jQuery(".page_header").first(); a.length && !jQuery(document).scrollTop() && a.first().data("bs.affix") && (a.first().data("bs.affix").options.offset.top = a.offset().top), a.closest(".boxed").length || jQuery(".page_header_wrapper").css({ height: a.first().outerHeight() }) }) }(); var spinnerVisible = !1; function showProgress() { spinnerVisible || ($("#dvLoading2").show(), spinnerVisible = !0) } function hideProgress() { spinnerVisible && ($("#dvLoading2").hide(), spinnerVisible = !1) }